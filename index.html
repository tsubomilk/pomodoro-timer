<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="favicon.ico">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+JP:wght@300;400&family=Zen+Kurenaido&display=swap" rel="stylesheet">
<title>„Éù„É¢„Éâ„Éº„É≠„Çø„Ç§„Éû„Éº</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    text-align: center;
    background-color: #f5f5f5;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    font-family: 'IBM Plex Sans JP', sans-serif;
    font-family: 'Courier New','Zen Kurenaido', sans-serif;
  }
  .container {
    background-color: #ffffff;
    padding: 50px;
    margin: 12px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  .timer {
    font-size: 2em;
    color: #333333;
    margin: 20px;
    font-variant-numeric: tabular-nums;
  }
  #toggleButton {
    font-size: 1.5em;
    padding: 10px 20px;
    margin: 10px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    outline: none;
  }
  #toggleButton:hover {
    background-color: #0056b3;
  }
</style>
</head>
<body>

<div class="container">
  <div id="currentTime" class="timer"></div>
  <div id="workTime" class="timer">Worküßë‚Äçüíª: 25:00</div>
  <div id="breakTime" class="timer">Break‚òïÔ∏è: 5:00</div>
  <button id="toggleButton" onclick="toggleTimer()">START</button>
  <audio id="bell" src="bell.mp3" preload="auto"></audio> 
</div>

<script>
  let workTime = 25 * 60; // 25 minutes
  let breakTime = 5 * 60; // 5 minutes
  let isRunning = false;
  let isWorkTime = true; // ËøΩÂä†: ‰ΩúÊ•≠ÊôÇÈñì„Åã‰ºëÊÜ©ÊôÇÈñì„Åã„ÇíÂà§ÂÆö
  let interval;

  function updateCurrentTime() {
    const now = new Date();
    document.getElementById('currentTime').textContent = 'Current: ' + now.toLocaleTimeString('ja-JP');
  }

 function toggleTimer() {
  if (isRunning) {
    clearInterval(interval);
    document.getElementById('toggleButton').textContent = 'START';
    isRunning = false;
  } else {
    if (isWorkTime) {
      startWorkTimer();
    } else {
      startBreakTimer(); // „Åì„Åì„Åß‰ºëÊÜ©ÊôÇÈñì„ÅÆ„Çø„Ç§„Éû„Éº„ÇíÈñãÂßã„Åó„Å¶„ÅÑ„Åæ„Åô
    }
    document.getElementById('toggleButton').textContent = 'STOP';
    isRunning = true;
  }
}

function startWorkTimer() {
  interval = setInterval(() => {
    workTime--;
    document.getElementById('workTime').textContent = 'Worküßë‚Äçüíª: ' + formatTime(workTime);
    if (workTime <= 0) {
      clearInterval(interval);
      playBell();
      isWorkTime = false;
      breakTime = 5 * 60; // „Åì„Åì„Åß‰ºëÊÜ©ÊôÇÈñì„Çí„É™„Çª„ÉÉ„Éà„Åó„Å¶„ÅÑ„Åæ„Åô
      toggleTimer(); // „Åì„Åì„Åß toggleTimer „ÇíÂëº„Å≥Âá∫„Åô„ÅÆ„Åß„ÄÅ‰∏ä„Åß breakTime „Çí„É™„Çª„ÉÉ„Éà„Åó„Å¶„Åä„ÅèÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô
    }
  }, 1000);
}

function startBreakTimer() {
  interval = setInterval(() => {
    breakTime--;
    document.getElementById('breakTime').textContent = 'Break‚òïÔ∏è: ' + formatTime(breakTime);
    if (breakTime <= 0) {
      clearInterval(interval);
      alert('Complete Tasks TogetherÔºÅ');
      isWorkTime = true;
      workTime = 25 * 60; // „Åì„Åì„Åß‰ΩúÊ•≠ÊôÇÈñì„Çí„É™„Çª„ÉÉ„Éà„Åó„Å¶„ÅÑ„Åæ„Åô
      toggleTimer(); // ‰ΩúÊ•≠ÊôÇÈñì„ÅÆ„Çø„Ç§„Éû„Éº„ÇíÂÜçÈñã„Åô„Çã„Åü„ÇÅ„Å´ toggleTimer „ÇíÂëº„Å≥Âá∫„Åó„Å¶„ÅÑ„Åæ„Åô
    }
  }, 1000);
}

  function playBell() {
    const bell = document.getElementById('bell');
    bell.play();
  }

  function formatTime(seconds) {
  var mins = Math.floor(seconds / 60);
  var secs = seconds % 60;
  return (mins < 10 ? '0' : '') + mins + ':' + (secs < 10 ? '0' : '') + secs;
  }

  // Update current time every second
  setInterval(updateCurrentTime, 1000);
</script>

</body>
</html>
